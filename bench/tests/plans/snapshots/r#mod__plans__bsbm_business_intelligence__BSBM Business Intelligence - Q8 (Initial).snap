---
source: bench/tests/plans/bsbm_business_intelligence.rs
expression: canonicalize_uuids(&explanation.initial_logical_plan.to_string())
---
Projection: ENC_PT(vendor) AS vendor, ENC_PT(cheapExpensiveRatio) AS cheapExpensiveRatio
  Limit: skip=0, fetch=10
    Projection: vendor, cheapExpensiveRatio
      Sort: ENC_SORT(DIV(xsd:float(belowAvg), offerCount)) DESC NULLS FIRST, ENC_SORT(ENC_PT(vendor)) ASC NULLS FIRST
        Extend: ?cheapExpensiveRatio DIV(xsd:float(belowAvg), offerCount)
          SparqlJoin: Inner 
            Projection: vendor, belowAvg
              Extend: ?belowAvg 00000000000000000000000000000001
                Projection: vendor, enc_int64_as_rdf_term(00000000000000000000000000000001) AS 00000000000000000000000000000001
                  Aggregate: groupBy=[[vendor AS vendor]], aggr=[[count(offer) AS 00000000000000000000000000000001]]
                    Filter: EBV(LT(xsd:float(xsd:string(ENC_TV(price))), avgPrice))
                      SparqlJoin: Inner 
                        SparqlJoin: Inner 
                          SparqlJoin: Inner 
                            SparqlJoin: Inner 
                              QuadPattern (?product <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/ProductType4>), active_graph: Union of [DefaultGraph] 
                              QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/product> ?product), active_graph: Union of [DefaultGraph] 
                            QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/vendor> ?vendor), active_graph: Union of [DefaultGraph] 
                          QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/price> ?price), active_graph: Union of [DefaultGraph] 
                        Projection: product, avgPrice
                          Extend: ?avgPrice 00000000000000000000000000000002
                            Projection: product, 00000000000000000000000000000002
                              Aggregate: groupBy=[[product AS product]], aggr=[[AVG(xsd:float(xsd:string(ENC_TV(price)))) AS 00000000000000000000000000000002]]
                                SparqlJoin: Inner 
                                  SparqlJoin: Inner 
                                    SparqlJoin: Inner 
                                      QuadPattern (?product <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/ProductType4>), active_graph: Union of [DefaultGraph] 
                                      QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/product> ?product), active_graph: Union of [DefaultGraph] 
                                    QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/vendor> ?vendor), active_graph: Union of [DefaultGraph] 
                                  QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/price> ?price), active_graph: Union of [DefaultGraph] 
            Projection: vendor, offerCount
              Extend: ?offerCount 00000000000000000000000000000003
                Projection: vendor, enc_int64_as_rdf_term(00000000000000000000000000000003) AS 00000000000000000000000000000003
                  Aggregate: groupBy=[[vendor AS vendor]], aggr=[[count(offer) AS 00000000000000000000000000000003]]
                    SparqlJoin: Inner 
                      SparqlJoin: Inner 
                        QuadPattern (?product <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/ProductType4>), active_graph: Union of [DefaultGraph] 
                        QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/product> ?product), active_graph: Union of [DefaultGraph] 
                      QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/vendor> ?vendor), active_graph: Union of [DefaultGraph]
