---
source: bench/tests/plans/bsbm_business_intelligence.rs
expression: "&explanation.optimized_logical_plan.to_string()"
---
Projection: ENC_PT(reviewer) AS reviewer, ENC_PT(reviewerAvgScore) AS reviewerAvgScore
  Projection: reviewer, reviewerAvgScore
    Projection: reviewer, <uuid>, <uuid>, <uuid> AS reviewerAvgScore
      Filter: EBV(GT(<uuid>, MUL(<uuid>, ENC_TV(Struct({term_type:2,value:1.5,data_type:http://www.w3.org/2001/XMLSchema#decimal,language_tag:})))))
        Projection: reviewer, <uuid>, <uuid>
          Aggregate: groupBy=[[reviewer AS reviewer]], aggr=[[AVG(xsd:float(ENC_TV(score))) AS <uuid>, MIN(avgScore) AS <uuid>]]
            Projection: lhs.avgScore AS avgScore, lhs.product AS product, lhs.review AS review, lhs.reviewer AS reviewer, rhs.score AS score
              Inner Join: lhs.review = rhs.review
                SubqueryAlias: lhs
                  Cross Join: 
                    Projection: avgScore
                      Projection: <uuid>, <uuid> AS avgScore
                        Projection: <uuid>
                          Aggregate: groupBy=[[]], aggr=[[AVG(xsd:float(ENC_TV(score))) AS <uuid>]]
                            Projection: lhs.product AS product, lhs.review AS review, rhs.score AS score
                              Inner Join: lhs.review = rhs.review
                                SubqueryAlias: lhs
                                  Projection: lhs.product AS product, rhs.review AS review
                                    Inner Join: lhs.product = rhs.product
                                      SubqueryAlias: lhs
                                        QuadPattern (?product <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/producer> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/dataFromProducer6/Producer6>)
                                      SubqueryAlias: rhs
                                        QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/reviewFor> ?product)
                                SubqueryAlias: rhs
                                  Union
                                    Projection: review, score
                                      Union
                                        Projection: review, score
                                          Union
                                            Projection: review, score
                                              QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating1> ?score)
                                            Projection: review, score
                                              QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating2> ?score)
                                        Projection: review, score
                                          QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating3> ?score)
                                    Projection: review, score
                                      QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating4> ?score)
                    Projection: lhs.product AS product, lhs.review AS review, rhs.reviewer AS reviewer
                      Inner Join: lhs.review = rhs.review
                        SubqueryAlias: lhs
                          Projection: lhs.product AS product, rhs.review AS review
                            Inner Join: lhs.product = rhs.product
                              SubqueryAlias: lhs
                                QuadPattern (?product <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/producer> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/dataFromProducer6/Producer6>)
                              SubqueryAlias: rhs
                                QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/reviewFor> ?product)
                        SubqueryAlias: rhs
                          QuadPattern (?review <http://purl.org/stuff/rev#reviewer> ?reviewer)
                SubqueryAlias: rhs
                  Union
                    Projection: review, score
                      Union
                        Projection: review, score
                          Union
                            Projection: review, score
                              QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating1> ?score)
                            Projection: review, score
                              QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating2> ?score)
                        Projection: review, score
                          QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating3> ?score)
                    Projection: review, score
                      QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/rating4> ?score)
