---
source: bench/tests/plans/bsbm_business_intelligence.rs
expression: "&explanation.optimized_logical_plan.to_string()"
---
Projection: ENC_PT(product) AS product
  Projection: product
    Filter: EBV(BOOLEAN_AS_TERM(NOT __correlated_sq_1.mark))
      LeftMark Join:  Filter: product = __correlated_sq_1.__inner__product
        Limit: skip=0, fetch=1000
          Projection: product
            Sort: ENC_SORT(offerCount) DESC NULLS FIRST
              Projection: product, offerCount
                Projection: product, <uuid>, <uuid> AS offerCount
                  Projection: product, INT64_AS_TERM(<uuid>) AS <uuid>
                    Aggregate: groupBy=[[product AS product]], aggr=[[count(offer) AS <uuid>]]
                      Projection: lhs.product AS product, rhs.offer AS offer
                        Inner Join: lhs.product = rhs.product
                          SubqueryAlias: lhs
                            QuadPattern (?product <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/ProductType1>)
                          SubqueryAlias: rhs
                            QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/product> ?product)
        SubqueryAlias: __correlated_sq_1
          Projection: offer AS __inner__offer, product AS __inner__product, vendor AS __inner__vendor, country AS __inner__country
            Filter: EBV(EQ(ENC_TV(country), ENC_TV(Struct({term_type:0,value:http://downlode.org/rdf/iso-3166/countries#US,data_type:,language_tag:}))))
              Projection: lhs.offer AS offer, lhs.product AS product, lhs.vendor AS vendor, rhs.country AS country
                Inner Join: lhs.vendor = rhs.vendor
                  SubqueryAlias: lhs
                    Projection: lhs.offer AS offer, lhs.product AS product, rhs.vendor AS vendor
                      Inner Join: lhs.offer = rhs.offer
                        SubqueryAlias: lhs
                          QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/product> ?product)
                        SubqueryAlias: rhs
                          QuadPattern (?offer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/vendor> ?vendor)
                  SubqueryAlias: rhs
                    QuadPattern (?vendor <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/country> ?country)
